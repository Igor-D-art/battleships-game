(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>h});var o=t(537),r=t.n(o),i=t(645),a=t.n(i),c=t(667),s=t.n(c),d=new URL(t(617),t.b),l=new URL(t(44),t.b),u=a()(r()),A=s()(d),p=s()(l);u.push([n.id,"* {\n    margin: 0;\n    border: none;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    height: 100vh;\n    width: 100vw;\n}\n\n.main {\n    display: flex;\n    justify-content: space-around;\n    height: min(70vh);\n    align-items: center;\n}\n\n.p1b,\n.p2b, \n.board {\n    height: 500px;\n    width: 500px;\n    border: 1px solid black;\n    background-color: white;\n    display: grid;\n    grid-template-columns: repeat(10, minmax(50px, 1fr));\n    grid-template-rows: repeat(10, minmax(50px, 1fr));\n\n}\n\n.p1b div,\n.p2b div {\n    /* display: flex;\n    justify-content: center;\n    align-items: center; */\n    border: 1px solid black;\n}\n\n.curtain {\n    position: absolute;\n    height: 500px;\n    width: 500px;\n}\n\nfooter,\nheader {\n    display: flex;\n    background-color: rgb(122, 151, 248);\n    height: min(15vh);\n    font-size: 7vh;\n    justify-content: center;\n    align-items: center;\n}\n\nfooter{\n    font-size: large;\n}\n\n.hit {\n    background-image: url("+A+");\n    background-color: rgb(245, 169, 169);\n    background-size: 100%;\n}\n\n.ship, .shipGroup>div {\n    background-color: blue;\n}\n\n.miss {\n    background-image: url("+p+");\n    background-repeat: no-repeat;\n    background-size: 70%;\n    background-position: center;\n}\n\n.sur{\n    background-image: url("+p+");\n    background-repeat: no-repeat;\n    background-size: 70%;\n    background-position: center;\n}\n\n.scale{\n    background-size: 100%;\n}\n\n.startNew{\n    display: flex;\n    flex-direction: column;\n    height: 150px;\n    width: 200px;\n    background-color: rgb(122, 151, 248);\n    position: absolute;\n    top: 25%;\n    left: 44%;\n    border: 1px solid rgb(0, 0, 0);\n    justify-content: space-around;\n    align-items: center;\n}\n\n.startNew p{\n    font-size: 24px;\n    text-align: center;\n}\n\nbutton {\n    height: 50px;\n    width: 100px;\n    border: 1px solid rgb(0, 0, 0);\n    font-size: 15px;\n}\n\n.placeShips{\n    display: none;\n    flex-direction: column;\n    height: 600px;\n    width: 900px;\n    background-color: rgb(122, 151, 248);\n    position: absolute;\n    border: 2px solid rgb(0, 0, 0);\n    justify-content: space-around;\n    align-items: center;\n}\n\n.placeShips #board>div{\n    border: 1px solid rgb(0, 0, 0);\n}\n\n.boardwrap{\n    display: flex;\n    width: 800px;\n    justify-content: space-between;\n}\n\n.ships{\n    display: flex;\n    flex-direction: column;\n    height: 500px;\n    width: 300px;\n    background-color: white;\n    margin-left: 30px;\n    align-items: flex-end;\n    background-color: rgb(122, 151, 248);\n}\n\n.ships button{\n    margin-top: 20px;\n}\n\n.ships p{\n    font-size: 25px;\n}\n\nbutton:hover {\n    background-color: rgb(17, 0, 255);\n    color: white;\n}\n\n.shipGroup{\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    width: 95%;\n    align-items: center;\n    margin-top: 20px;\n}\n\n#carrier{\n    grid-template-columns: repeat(4, min(50px));\n}\n\n#battlecruiser{\n    grid-template-columns: repeat(3, min(50px));\n}\n\n#destroyer{\n    grid-template-columns: repeat(2, min(50px));\n}\n\n#gunship{\n    grid-template-columns: repeat(1, min(50px));\n}\n\n#carrier, #battlecruiser, #destroyer, #gunship {\n    display: grid;\n    background-color: white; \n    grid-template-rows: max(48px);\n}\n\n.part{\n    border: 1px solid black;\n    background-color: rgb(17, 0, 255);\n}\n\n.noBorder{\n    border: none;\n}\n\n.shipspot{\n    background-color: blueviolet;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,YAAY;IACZ,UAAU;IACV,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,6BAA6B;IAC7B,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;;;IAGI,aAAa;IACb,YAAY;IACZ,uBAAuB;IACvB,uBAAuB;IACvB,aAAa;IACb,oDAAoD;IACpD,iDAAiD;;AAErD;;AAEA;;IAEI;;0BAEsB;IACtB,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,YAAY;AAChB;;AAEA;;IAEI,aAAa;IACb,oCAAoC;IACpC,iBAAiB;IACjB,cAAc;IACd,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,yDAAuD;IACvD,oCAAoC;IACpC,qBAAqB;AACzB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,yDAA8C;IAC9C,4BAA4B;IAC5B,oBAAoB;IACpB,2BAA2B;AAC/B;;AAEA;IACI,yDAA8C;IAC9C,4BAA4B;IAC5B,oBAAoB;IACpB,2BAA2B;AAC/B;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,aAAa;IACb,YAAY;IACZ,oCAAoC;IACpC,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,8BAA8B;IAC9B,6BAA6B;IAC7B,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,8BAA8B;IAC9B,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,aAAa;IACb,YAAY;IACZ,oCAAoC;IACpC,kBAAkB;IAClB,8BAA8B;IAC9B,6BAA6B;IAC7B,mBAAmB;AACvB;;AAEA;IACI,8BAA8B;AAClC;;AAEA;IACI,aAAa;IACb,YAAY;IACZ,8BAA8B;AAClC;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,aAAa;IACb,YAAY;IACZ,uBAAuB;IACvB,iBAAiB;IACjB,qBAAqB;IACrB,oCAAoC;AACxC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,iCAAiC;IACjC,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,kBAAkB;IAClB,UAAU;IACV,mBAAmB;IACnB,gBAAgB;AACpB;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,2CAA2C;AAC/C;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,6BAA6B;AACjC;;AAEA;IACI,uBAAuB;IACvB,iCAAiC;AACrC;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,4BAA4B;AAChC",sourcesContent:["* {\n    margin: 0;\n    border: none;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    height: 100vh;\n    width: 100vw;\n}\n\n.main {\n    display: flex;\n    justify-content: space-around;\n    height: min(70vh);\n    align-items: center;\n}\n\n.p1b,\n.p2b, \n.board {\n    height: 500px;\n    width: 500px;\n    border: 1px solid black;\n    background-color: white;\n    display: grid;\n    grid-template-columns: repeat(10, minmax(50px, 1fr));\n    grid-template-rows: repeat(10, minmax(50px, 1fr));\n\n}\n\n.p1b div,\n.p2b div {\n    /* display: flex;\n    justify-content: center;\n    align-items: center; */\n    border: 1px solid black;\n}\n\n.curtain {\n    position: absolute;\n    height: 500px;\n    width: 500px;\n}\n\nfooter,\nheader {\n    display: flex;\n    background-color: rgb(122, 151, 248);\n    height: min(15vh);\n    font-size: 7vh;\n    justify-content: center;\n    align-items: center;\n}\n\nfooter{\n    font-size: large;\n}\n\n.hit {\n    background-image: url(../src/images/icons8-fire-48.png);\n    background-color: rgb(245, 169, 169);\n    background-size: 100%;\n}\n\n.ship, .shipGroup>div {\n    background-color: blue;\n}\n\n.miss {\n    background-image: url(../src/images/close.png);\n    background-repeat: no-repeat;\n    background-size: 70%;\n    background-position: center;\n}\n\n.sur{\n    background-image: url(../src/images/close.png);\n    background-repeat: no-repeat;\n    background-size: 70%;\n    background-position: center;\n}\n\n.scale{\n    background-size: 100%;\n}\n\n.startNew{\n    display: flex;\n    flex-direction: column;\n    height: 150px;\n    width: 200px;\n    background-color: rgb(122, 151, 248);\n    position: absolute;\n    top: 25%;\n    left: 44%;\n    border: 1px solid rgb(0, 0, 0);\n    justify-content: space-around;\n    align-items: center;\n}\n\n.startNew p{\n    font-size: 24px;\n    text-align: center;\n}\n\nbutton {\n    height: 50px;\n    width: 100px;\n    border: 1px solid rgb(0, 0, 0);\n    font-size: 15px;\n}\n\n.placeShips{\n    display: none;\n    flex-direction: column;\n    height: 600px;\n    width: 900px;\n    background-color: rgb(122, 151, 248);\n    position: absolute;\n    border: 2px solid rgb(0, 0, 0);\n    justify-content: space-around;\n    align-items: center;\n}\n\n.placeShips #board>div{\n    border: 1px solid rgb(0, 0, 0);\n}\n\n.boardwrap{\n    display: flex;\n    width: 800px;\n    justify-content: space-between;\n}\n\n.ships{\n    display: flex;\n    flex-direction: column;\n    height: 500px;\n    width: 300px;\n    background-color: white;\n    margin-left: 30px;\n    align-items: flex-end;\n    background-color: rgb(122, 151, 248);\n}\n\n.ships button{\n    margin-top: 20px;\n}\n\n.ships p{\n    font-size: 25px;\n}\n\nbutton:hover {\n    background-color: rgb(17, 0, 255);\n    color: white;\n}\n\n.shipGroup{\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    width: 95%;\n    align-items: center;\n    margin-top: 20px;\n}\n\n#carrier{\n    grid-template-columns: repeat(4, min(50px));\n}\n\n#battlecruiser{\n    grid-template-columns: repeat(3, min(50px));\n}\n\n#destroyer{\n    grid-template-columns: repeat(2, min(50px));\n}\n\n#gunship{\n    grid-template-columns: repeat(1, min(50px));\n}\n\n#carrier, #battlecruiser, #destroyer, #gunship {\n    display: grid;\n    background-color: white; \n    grid-template-rows: max(48px);\n}\n\n.part{\n    border: 1px solid black;\n    background-color: rgb(17, 0, 255);\n}\n\n.noBorder{\n    border: none;\n}\n\n.shipspot{\n    background-color: blueviolet;\n}"],sourceRoot:""}]);const h=u},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);o&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},537:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */"),a=t.sources.map((function(n){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(n," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},a=[],c=0;c<n.length;c++){var s=n[c],d=o.base?s[0]+o.base:s[0],l=i[d]||0,u="".concat(d," ").concat(l);i[d]=l+1;var A=t(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==A)e[A].references++,e[A].updater(p);else{var h=r(p,o);o.byIndex=c,e.splice(c,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var c=t(i[a]);e[c].references--}for(var s=o(n,r),d=0;d<i.length;d++){var l=t(i[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=s}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},44:(n,e,t)=>{n.exports=t.p+"3f1efb87491214c146da.png"},617:(n,e,t)=>{n.exports=t.p+"790566af980138ba22cf.png"}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");o.length&&(n=o[o.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href;var o={};(()=>{t.d(o,{h:()=>Y});var n=t(379),e=t.n(n),r=t(795),i=t.n(r),a=t(569),c=t.n(a),s=t(565),d=t.n(s),l=t(216),u=t.n(l),A=t(589),p=t.n(A),h=t(426),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),e()(h.Z,g),h.Z&&h.Z.locals&&h.Z.locals;var f,m,v,b,C,B,I,x,E,y,L,k,w,S=(f=function n(e){var t=1+"".concat(Math.ceil(10*Math.random()))+"".concat(Math.ceil(10*Math.random()));return-1===e.board.illegalMoves.indexOf(t)?t:n(e)},{moveCounter:0,makeMove:function(n,e){-1===e[1].board.illegalMoves.indexOf(n)&&(e[1].board.receiveAttack(n,e[1]),e[0].board.receiveAttack(f(e[0]),e[0]),m(e))},checkWinner:m=function(n){10===n[0].board.shipsSunk().length?(n[1].isWinner=!0,M.displayStartNew("Stupid computer wins!")):1===n[1].board.shipsSunk().length&&(n[0].isWinner=!0,M.displayStartNew("You win!"))},startNew:function(){Y()},startRandom:function(n){console.log(n),n[0].board.randomLocations(),n[1].board.randomLocations(),M.removePlaceShipPopup(),M.displayBoards(n),M.displayShips(n[0].getFleet())},parseCoords:function(n){for(var e=[],t=0;t<n.length;t++){e.push([]);for(var o=0;o<n[t].length;o++){var r="1".concat(n[t][o]);e[t].push(r)}}return e},passCoords:function(n,e){for(var t=0;t<n.length;t++)e[0].board.ships[t].locations=n[t]},startPlaced:function(n){n[1].board.randomLocations(),M.removePlaceShipPopup(),M.displayBoards(n),M.displayShips(n[0].getFleet())}}),M=(b=function(n){for(var e=n;e.firstChild;)e.firstChild.remove();for(var t=1;t<11;t++)for(var o=1;o<11;o++){var r=document.createElement("div");r.setAttribute("id","".concat(t).concat(o)),r.setAttribute("class","container"),e.appendChild(r);for(var i=0;i<B.coords.length;i++)B.coords[i].indexOf(r.id)>=0&&r.classList.add("ship")}},C=function(){console.log(B),console.log(B.vertical);for(var n=1;n<11;n++)for(var e=1;e<11;e++){var t=document.getElementById("".concat(n).concat(e));if(B.carrierCounter<1)x(t,n,e);else if(B.cruiserCounter<2)E(t,n,e);else if(B.destroyerCounter<3)y(t,n,e);else{if(!(B.gunboatCounter<4))return;L(t,n,e)}}},B={coords:[],vertical:!1,carrierCounter:0,cruiserCounter:0,destroyerCounter:0,gunboatCounter:0},I=function(){B.coords=[],B.vertical=!1,B.carrierCounter=0,B.cruiserCounter=0,B.destroyerCounter=0,B.gunboatCounter=0},x=function(n,e,t){var o,r,i,a;console.log(B),console.log(B.vertical),o=n,!1===B.vertical?t<8&&(o.addEventListener("mouseover",(function(){r=o.nextElementSibling,i=r.nextElementSibling,a=i.nextElementSibling,[o,r,i,a].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=o.nextElementSibling,e=n.nextElementSibling,t=e.nextElementSibling;[o,n,e,t].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=o.nextElementSibling,e=n.nextElementSibling,t=e.nextElementSibling;[o,n,e,t].forEach((function(n){n.classList.add("ship")})),B.coords.push(["".concat(o.id),"".concat(n.id),"".concat(e.id),"".concat(t.id)]),B.carrierCounter+=1,b(board),C()}))):!0===B.vertical&&e<8&&(o.addEventListener("mouseover",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t)),i=document.getElementById("".concat(e+3).concat(t));[o,n,r,i].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t)),i=document.getElementById("".concat(e+3).concat(t));[o,n,r,i].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t)),i=document.getElementById("".concat(e+3).concat(t));[o,n,r,i].forEach((function(n){n.classList.add("ship")})),B.coords.push(["".concat(o.id),"".concat(n.id),"".concat(r.id),"".concat(i.id)]),B.carrierCounter+=1,b(board),C()})))},E=function(n,e,t){var o,r,i;o=n,!1===B.vertical?t<9&&(o.addEventListener("mouseover",(function(){r=o.nextElementSibling,i=r.nextElementSibling,[o,r,i].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=o.nextElementSibling,e=n.nextElementSibling;[o,n,e].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=o.nextElementSibling,e=n.nextElementSibling;[o,n,e].forEach((function(n){n.classList.add("ships")})),B.coords.push(["".concat(o.id),"".concat(n.id),"".concat(e.id)]),B.cruiserCounter+=1,b(board),C()}))):!0===B.vertical&&e<9&&(o.addEventListener("mouseover",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t));[o,n,r].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t));[o,n,r].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=document.getElementById("".concat(e+1).concat(t)),r=document.getElementById("".concat(e+2).concat(t));[o,n,r].forEach((function(n){n.classList.add("ship")})),B.coords.push(["".concat(o.id),"".concat(n.id),"".concat(r.id)]),B.cruiserCounter+=1,b(board),C()})))},y=function(n,e,t){var o,r;o=n,!1===B.vertical?t<10&&(o.addEventListener("mouseover",(function(){r=o.nextElementSibling,[o,r].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=o.nextElementSibling;[o,n].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=o.nextElementSibling;[o,n].forEach((function(n){n.classList.add("ships")})),B.coords.push(["".concat(o.id),"".concat(n.id)]),B.destroyerCounter+=1,b(board),C()}))):!0===B.vertical&&e<10&&(o.addEventListener("mouseover",(function(){var n=document.getElementById("".concat(e+1).concat(t));[o,n].forEach((function(n){n.classList.add("shipspot")}))})),o.addEventListener("mouseleave",(function(){var n=document.getElementById("".concat(e+1).concat(t));[o,n].forEach((function(n){n.classList.remove("shipspot")}))})),o.addEventListener("click",(function(){var n=document.getElementById("".concat(e+1).concat(t));[o,n].forEach((function(n){n.classList.add("ship")})),B.coords.push(["".concat(o.id),"".concat(n.id)]),B.destroyerCounter+=1,b(board),C()})))},L=function(n){var e=n;e.addEventListener("mouseover",(function(){e.classList.add("shipspot")})),e.addEventListener("mouseleave",(function(){e.classList.remove("shipspot")})),e.addEventListener("click",(function(){e.classList.add("ships"),B.coords.push(["".concat(e.id)]),B.gunboatCounter+=1,b(board),C()}))},{removePlaceShipPopup:function(){document.getElementById("placeShips").style.display="none"},displayBoards:v=function(n){for(var e=1;e<3;e++){for(var t=document.getElementById("p"+e+"b");t.firstChild;)t.firstChild.remove();for(var o=1;o<11;o++)for(var r=function(r){var i=document.createElement("div");i.setAttribute("id",e+"".concat(o)+r),i.setAttribute("class","cell"),2===e&&void 0!==n&&i.addEventListener("click",(function(){S.makeMove(i.id,n)})),t.appendChild(i)},i=1;i<11;i++)r(i)}},displayHit:function(n){var e=document.getElementById(n);e.classList.remove("ship"),e.classList.remove("miss"),e.classList.add("hit")},displayShips:function(n){for(var e=0;e<n.length;e++)""!==n[e]&&document.getElementById("".concat(n[e])).classList.add("ship")},displayMiss:function(n){var e=document.getElementById(n);e.classList.remove("ship"),e.classList.add("miss")},displaySurLocations:function(n){for(var e=function(e){var t=document.getElementById(n[e]);null!=t&&(t.classList.add("sur"),t.classList.add("scale"),setTimeout((function(){t.classList.remove("scale")}),150))},t=0;t<n.length;t++)e(t)},displayStartNew:function(n){var e=document.createElement("div");e.classList.add("startNew"),e.innerHTML="\n            <p> ".concat(n,' </p>\n            <button id="playAgain"> Play again </button> ');var t=document.createElement("div");t.classList.add("curtain");var o=document.getElementById("main"),r=document.getElementById("p2b");r.appendChild(t),o.appendChild(e),document.getElementById("playAgain").addEventListener("click",(function(){r.removeChild(t),o.removeChild(e),S.startNew()}))},placeShipsPopup:function(n){console.log(n[0].board.ships),console.log(n[1].board.ships);var e=document.getElementById("board");v(n),I(),document.getElementById("placeShips").style.display="flex",document.getElementById("ok").addEventListener("click",(function(){if(10===B.coords.length){var e=S.parseCoords(B.coords);S.passCoords(e,n),S.startPlaced(n)}})),document.getElementById("reset").addEventListener("click",(function(){I(),b(e),C()})),document.getElementById("random").addEventListener("click",(function(){S.startRandom(n)})),document.getElementById("rotate").addEventListener("click",(function(){B.vertical?(B.vertical=!1,console.log(B.vertical),b(e),C()):(B.vertical=!0,console.log(B.vertical),b(e),C())}))}}),j=(k=function(n){var e=n,t=Math.ceil(2*Math.random()),o=[];return{setCoord:function(n){!function(n){throw new TypeError('"locations" is read-only')}()},locations:[],hits:o,isSunk:!1,gettingSunk:function(n){return-1===n.hits.indexOf("")&&(n.isSunk=!0,M.displaySurLocations(n.surLocations)),n.isSunk},direction:t,gettingHit:function(n){o[n]="hit"},shipLength:e,surLocations:[],forbLocations:[],startLocation:void 0}},w=function(n){var e=n,t=function(n){var e=n,t=[k(4),k(3),k(3),k(2),k(2),k(2),k(1),k(1),k(1),k(1)],o=function(n){var t,o,r=[],i=[];1===n.direction?(o=Math.ceil(10*Math.random()),t=Math.ceil(Math.random()*(10-(n.shipLength+1)))):(o=Math.ceil(Math.random()*(10-(n.shipLength+1))),t=Math.ceil(10*Math.random()));for(var a=0;a<n.shipLength;a++)1===n.direction?r.push(e+"".concat(o)+(t+a)):r.push(e+"".concat(o+a)+"".concat(t));if(1===n.direction){for(var c=0;c<n.shipLength;c++)i.push(e+"".concat(o+1)+(t+c)),i.push(e+"".concat(o-1)+(t+c));i.push(e+"".concat(o-1)+(t-1)),i.push(e+"".concat(o)+(t-1)),i.push(e+"".concat(o+1)+(t-1)),i.push(e+"".concat(o-1)+(t+n.shipLength)),i.push(e+"".concat(o)+(t+n.shipLength)),i.push(e+"".concat(o+1)+(t+n.shipLength))}else{for(var s=0;s<n.shipLength;s++)i.push(e+"".concat(o+s)+(t+1)),i.push(e+"".concat(o+s)+(t-1));i.push(e+"".concat(o-1)+(t-1)),i.push(e+"".concat(o-1)+t),i.push(e+"".concat(o-1)+(t+1)),i.push(e+"".concat(o+n.shipLength)+(t-1)),i.push(e+"".concat(o+n.shipLength)+t),i.push(e+"".concat(o+n.shipLength)+(t+1))}return[r,i]},r=function(n){for(var e=0;e<t.length;e++){for(var o=0;o<n.length;o++)if(t[e].forbLocations.indexOf(n[o])>=0)return!0;console.log("no collisions on ship ".concat(t[e]))}return!1};return{ships:t,illegalMoves:[],receiveAttack:function(n,e){e.board.illegalMoves.push(n),console.log(e.board.illegalMoves);for(var o=0;o<t.length;o++){if(t[o].locations.indexOf(n)>=0){M.displayHit(n),t[o].gettingHit(t[o].locations.indexOf(n)),t[o].gettingSunk(t[o]),t[o].gettingSunk(t[o])&&(e.board.illegalMoves=e.board.illegalMoves.concat(t[o].surLocations));break}-1===t[o].locations.indexOf(n)&&M.displayMiss(n)}},shipsSunk:function(){for(var n=[],e=0;e<t.length;e++)!0===t[e].isSunk&&n.push(t[e]);return n},randomLocations:function(){for(var n,e,i,a=0;a<t.length;a++){if(void 0===t[a].startLocation){do{var c=o(t[a]);n=c[0],e=c[1],i=n.concat(e)}while(r(n));t[a].locations=n,t[a].surLocations=e,t[a].forbLocations=i}for(var s=0;s<t[a].shipLength;s++)t[a].hits.push("")}}}}(e);return{playerId:e,board:t,getFleet:function(){for(var n=[],e=0;e<t.ships.length;e++)for(var o=0;o<t.ships[e].locations.length;o++)n.push(t.ships[e].locations[o]);return n},isWinner:!1}},{initPlayers:function(){return[w(1),w(2)]}});function Y(){var n=j.initPlayers();console.log(n[0].board.ships),console.log(n[1].board.ships),M.placeShipsPopup(n)}Y()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ3hCckQsRUFBTS9LLEdBQUdnTCxVQUFZb0QsRUFDckJyRCxFQUFNL0ssR0FBR3lOLGFBQWVBLEVBQ3hCMUMsRUFBTS9LLEdBQUcyTixjQUFnQkEsRUFJN0IsSUFBSyxJQUFJL0MsRUFBSSxFQUFHQSxFQUFJRyxFQUFNL0ssR0FBR2tOLFdBQVl0QyxJQUNyQ0csRUFBTS9LLEdBQUdvTixLQUFLbk8sS0FBSyxPQWtHakJxUCxDQUFhVCxHQVczQixNQUFNLENBQUNBLFNBQUFBLEVBQVV6RSxNQUFBQSxFQUFPb0IsU0FWUCxXQUViLElBREEsSUFBTStELEVBQWMsR0FDWHZPLEVBQUksRUFBR0EsRUFBSW9KLEVBQU0yQixNQUFNakwsT0FBUUUsSUFDcEMsSUFBSyxJQUFJNEssRUFBSSxFQUFHQSxFQUFJeEIsRUFBTTJCLE1BQU0vSyxHQUFHZ0wsVUFBVWxMLE9BQVE4SyxJQUNqRDJELEVBQVl0UCxLQUFLbUssRUFBTTJCLE1BQU0vSyxHQUFHZ0wsVUFBVUosSUFHbEQsT0FBTzJELEdBR3VCMUUsVUFEakIsSUFVZCxDQUFFMkUsWUFOVCxXQUdJLE1BQU8sQ0FGTzFGLEVBQU8sR0FDUEEsRUFBTyxPQzlMdEIsU0FBU21CLElBQ1osSUFBTVAsRUFBVXVELEVBQU11QixjQUN0QnJFLFFBQVFDLElBQUlWLEVBQVEsR0FBR04sTUFBTTJCLE9BQzdCWixRQUFRQyxJQUFJVixFQUFRLEdBQUdOLE1BQU0yQixPQUM3QmpCLEVBQUtrRCxnQkFBZ0J0RCxHQUt6Qk8sSyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLWdhbWUvLi9zcmMvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lLy4vc3JjL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMtZ2FtZS8uL3NyYy9tb2RlbC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy1nYW1lLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuLi9zcmMvaW1hZ2VzL2ljb25zOC1maXJlLTQ4LnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fID0gbmV3IFVSTChcIi4uL3NyYy9pbWFnZXMvY2xvc2UucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuYm9keSB7XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIHdpZHRoOiAxMDB2dztcXG59XFxuXFxuLm1haW4ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gICAgaGVpZ2h0OiBtaW4oNzB2aCk7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wMWIsXFxuLnAyYiwgXFxuLmJvYXJkIHtcXG4gICAgaGVpZ2h0OiA1MDBweDtcXG4gICAgd2lkdGg6IDUwMHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCBtaW5tYXgoNTBweCwgMWZyKSk7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCBtaW5tYXgoNTBweCwgMWZyKSk7XFxuXFxufVxcblxcbi5wMWIgZGl2LFxcbi5wMmIgZGl2IHtcXG4gICAgLyogZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICovXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4uY3VydGFpbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgaGVpZ2h0OiA1MDBweDtcXG4gICAgd2lkdGg6IDUwMHB4O1xcbn1cXG5cXG5mb290ZXIsXFxuaGVhZGVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEyMiwgMTUxLCAyNDgpO1xcbiAgICBoZWlnaHQ6IG1pbigxNXZoKTtcXG4gICAgZm9udC1zaXplOiA3dmg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG5mb290ZXJ7XFxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XFxufVxcblxcbi5oaXQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ1LCAxNjksIDE2OSk7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJTtcXG59XFxuXFxuLnNoaXAsIC5zaGlwR3JvdXA+ZGl2IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcXG59XFxuXFxuLm1pc3Mge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fICsgXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDcwJTtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbn1cXG5cXG4uc3Vye1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fICsgXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDcwJTtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbn1cXG5cXG4uc2NhbGV7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJTtcXG59XFxuXFxuLnN0YXJ0TmV3e1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBoZWlnaHQ6IDE1MHB4O1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjIsIDE1MSwgMjQ4KTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDI1JTtcXG4gICAgbGVmdDogNDQlO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMCwgMCwgMCk7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uc3RhcnROZXcgcHtcXG4gICAgZm9udC1zaXplOiAyNHB4O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmJ1dHRvbiB7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgd2lkdGg6IDEwMHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMCwgMCwgMCk7XFxuICAgIGZvbnQtc2l6ZTogMTVweDtcXG59XFxuXFxuLnBsYWNlU2hpcHN7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGhlaWdodDogNjAwcHg7XFxuICAgIHdpZHRoOiA5MDBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEyMiwgMTUxLCAyNDgpO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigwLCAwLCAwKTtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wbGFjZVNoaXBzICNib2FyZD5kaXZ7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigwLCAwLCAwKTtcXG59XFxuXFxuLmJvYXJkd3JhcHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgd2lkdGg6IDgwMHB4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcblxcbi5zaGlwc3tcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgaGVpZ2h0OiA1MDBweDtcXG4gICAgd2lkdGg6IDMwMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEyMiwgMTUxLCAyNDgpO1xcbn1cXG5cXG4uc2hpcHMgYnV0dG9ue1xcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xcbn1cXG5cXG4uc2hpcHMgcHtcXG4gICAgZm9udC1zaXplOiAyNXB4O1xcbn1cXG5cXG5idXR0b246aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTcsIDAsIDI1NSk7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuLnNoaXBHcm91cHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIHdpZHRoOiA5NSU7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIG1hcmdpbi10b3A6IDIwcHg7XFxufVxcblxcbiNjYXJyaWVye1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCBtaW4oNTBweCkpO1xcbn1cXG5cXG4jYmF0dGxlY3J1aXNlcntcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgbWluKDUwcHgpKTtcXG59XFxuXFxuI2Rlc3Ryb3llcntcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgbWluKDUwcHgpKTtcXG59XFxuXFxuI2d1bnNoaXB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEsIG1pbig1MHB4KSk7XFxufVxcblxcbiNjYXJyaWVyLCAjYmF0dGxlY3J1aXNlciwgI2Rlc3Ryb3llciwgI2d1bnNoaXAge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgXFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogbWF4KDQ4cHgpO1xcbn1cXG5cXG4ucGFydHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxNywgMCwgMjU1KTtcXG59XFxuXFxuLm5vQm9yZGVye1xcbiAgICBib3JkZXI6IG5vbmU7XFxufVxcblxcbi5zaGlwc3BvdHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZXZpb2xldDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxZQUFZO0lBQ1osVUFBVTtJQUNWLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLDZCQUE2QjtJQUM3QixpQkFBaUI7SUFDakIsbUJBQW1CO0FBQ3ZCOztBQUVBOzs7SUFHSSxhQUFhO0lBQ2IsWUFBWTtJQUNaLHVCQUF1QjtJQUN2Qix1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLG9EQUFvRDtJQUNwRCxpREFBaUQ7O0FBRXJEOztBQUVBOztJQUVJOzswQkFFc0I7SUFDdEIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixZQUFZO0FBQ2hCOztBQUVBOztJQUVJLGFBQWE7SUFDYixvQ0FBb0M7SUFDcEMsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCx1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kseURBQXVEO0lBQ3ZELG9DQUFvQztJQUNwQyxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx5REFBOEM7SUFDOUMsNEJBQTRCO0lBQzVCLG9CQUFvQjtJQUNwQiwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSx5REFBOEM7SUFDOUMsNEJBQTRCO0lBQzVCLG9CQUFvQjtJQUNwQiwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixZQUFZO0lBQ1osb0NBQW9DO0lBQ3BDLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULDhCQUE4QjtJQUM5Qiw2QkFBNkI7SUFDN0IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osOEJBQThCO0lBQzlCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixZQUFZO0lBQ1osb0NBQW9DO0lBQ3BDLGtCQUFrQjtJQUNsQiw4QkFBOEI7SUFDOUIsNkJBQTZCO0lBQzdCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGFBQWE7SUFDYixZQUFZO0lBQ1osOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2IsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixpQkFBaUI7SUFDakIscUJBQXFCO0lBQ3JCLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxpQ0FBaUM7SUFDakMsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksMkNBQTJDO0FBQy9DOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2Qiw2QkFBNkI7QUFDakM7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsaUNBQWlDO0FBQ3JDOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLDRCQUE0QjtBQUNoQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmJvZHkge1xcbiAgICBoZWlnaHQ6IDEwMHZoO1xcbiAgICB3aWR0aDogMTAwdnc7XFxufVxcblxcbi5tYWluIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxuICAgIGhlaWdodDogbWluKDcwdmgpO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4ucDFiLFxcbi5wMmIsIFxcbi5ib2FyZCB7XFxuICAgIGhlaWdodDogNTAwcHg7XFxuICAgIHdpZHRoOiA1MDBweDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgbWlubWF4KDUwcHgsIDFmcikpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgbWlubWF4KDUwcHgsIDFmcikpO1xcblxcbn1cXG5cXG4ucDFiIGRpdixcXG4ucDJiIGRpdiB7XFxuICAgIC8qIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyAqL1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLmN1cnRhaW4ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGhlaWdodDogNTAwcHg7XFxuICAgIHdpZHRoOiA1MDBweDtcXG59XFxuXFxuZm9vdGVyLFxcbmhlYWRlciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjIsIDE1MSwgMjQ4KTtcXG4gICAgaGVpZ2h0OiBtaW4oMTV2aCk7XFxuICAgIGZvbnQtc2l6ZTogN3ZoO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuZm9vdGVye1xcbiAgICBmb250LXNpemU6IGxhcmdlO1xcbn1cXG5cXG4uaGl0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL3NyYy9pbWFnZXMvaWNvbnM4LWZpcmUtNDgucG5nKTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NSwgMTY5LCAxNjkpO1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7XFxufVxcblxcbi5zaGlwLCAuc2hpcEdyb3VwPmRpdiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxufVxcblxcbi5taXNzIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL3NyYy9pbWFnZXMvY2xvc2UucG5nKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1zaXplOiA3MCU7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuXFxuLnN1cntcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL3NyYy9pbWFnZXMvY2xvc2UucG5nKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1zaXplOiA3MCU7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuXFxuLnNjYWxle1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7XFxufVxcblxcbi5zdGFydE5ld3tcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgaGVpZ2h0OiAxNTBweDtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTIyLCAxNTEsIDI0OCk7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAyNSU7XFxuICAgIGxlZnQ6IDQ0JTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDAsIDAsIDApO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnN0YXJ0TmV3IHB7XFxuICAgIGZvbnQtc2l6ZTogMjRweDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG5idXR0b24ge1xcbiAgICBoZWlnaHQ6IDUwcHg7XFxuICAgIHdpZHRoOiAxMDBweDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDAsIDAsIDApO1xcbiAgICBmb250LXNpemU6IDE1cHg7XFxufVxcblxcbi5wbGFjZVNoaXBze1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBoZWlnaHQ6IDYwMHB4O1xcbiAgICB3aWR0aDogOTAwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjIsIDE1MSwgMjQ4KTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMCwgMCwgMCk7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4ucGxhY2VTaGlwcyAjYm9hcmQ+ZGl2e1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMCwgMCwgMCk7XFxufVxcblxcbi5ib2FyZHdyYXB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIHdpZHRoOiA4MDBweDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbn1cXG5cXG4uc2hpcHN7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGhlaWdodDogNTAwcHg7XFxuICAgIHdpZHRoOiAzMDBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjIsIDE1MSwgMjQ4KTtcXG59XFxuXFxuLnNoaXBzIGJ1dHRvbntcXG4gICAgbWFyZ2luLXRvcDogMjBweDtcXG59XFxuXFxuLnNoaXBzIHB7XFxuICAgIGZvbnQtc2l6ZTogMjVweDtcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE3LCAwLCAyNTUpO1xcbiAgICBjb2xvcjogd2hpdGU7XFxufVxcblxcbi5zaGlwR3JvdXB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICB3aWR0aDogOTUlO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xcbn1cXG5cXG4jY2FycmllcntcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgbWluKDUwcHgpKTtcXG59XFxuXFxuI2JhdHRsZWNydWlzZXJ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIG1pbig1MHB4KSk7XFxufVxcblxcbiNkZXN0cm95ZXJ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbig1MHB4KSk7XFxufVxcblxcbiNndW5zaGlwe1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxLCBtaW4oNTBweCkpO1xcbn1cXG5cXG4jY2FycmllciwgI2JhdHRsZWNydWlzZXIsICNkZXN0cm95ZXIsICNndW5zaGlwIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IFxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IG1heCg0OHB4KTtcXG59XFxuXFxuLnBhcnR7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTcsIDAsIDI1NSk7XFxufVxcblxcbi5ub0JvcmRlcntcXG4gICAgYm9yZGVyOiBub25lO1xcbn1cXG5cXG4uc2hpcHNwb3R7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWV2aW9sZXQ7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfSAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG5cblxuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyB2aWV3IH0gZnJvbSBcIi4vdmlld1wiO1xuaW1wb3J0IHsgaW5pdFBvcHVwIH0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGNvbnN0IGNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gICAgbGV0IG1vdmVDb3VudGVyID0gMDtcbiAgICBcbiAgICBjb25zdCBfcmFuZG9tTW92ZUdlbiA9IChwbGF5ZXIpID0+IHtcbiAgICAgICAgY29uc3QgcmFuZG9tTW92ZSA9IDEgKyBgJHtNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqICgxMCkpfWAgKyBgJHtNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqICgxMCkpfWA7XG4gICAgICAgIGlmIChwbGF5ZXIuYm9hcmQuaWxsZWdhbE1vdmVzLmluZGV4T2YocmFuZG9tTW92ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcmFuZG9tTW92ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3JhbmRvbU1vdmVHZW4ocGxheWVyKTtcbiAgICAgICAgfTsgIFxuICAgIH07XG5cbiAgICBjb25zdCBtYWtlTW92ZSA9IChjZWxsLCBwbGF5ZXJzKSA9PiB7XG4gICAgICAgIGlmIChwbGF5ZXJzWzFdLmJvYXJkLmlsbGVnYWxNb3Zlcy5pbmRleE9mKGNlbGwpID09PSAtMSkge1xuICAgICAgICAgICAgcGxheWVyc1sxXS5ib2FyZC5yZWNlaXZlQXR0YWNrKGNlbGwsIHBsYXllcnNbMV0pO1xuICAgICAgICAgICAgcGxheWVyc1swXS5ib2FyZC5yZWNlaXZlQXR0YWNrKF9yYW5kb21Nb3ZlR2VuKHBsYXllcnNbMF0pLCBwbGF5ZXJzWzBdKTtcbiAgICAgICAgICAgIG1vdmVDb3VudGVyICs9IDE7XG4gICAgICAgICAgICBjaGVja1dpbm5lcihwbGF5ZXJzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2hlY2tXaW5uZXIgPSAocGxheWVycykgPT4ge1xuICAgICAgICBpZiAocGxheWVyc1swXS5ib2FyZC5zaGlwc1N1bmsoKS5sZW5ndGggPT09IDEwKSB7XG4gICAgICAgICAgICBwbGF5ZXJzWzFdLmlzV2lubmVyID0gdHJ1ZTsgXG4gICAgICAgICAgICB2aWV3LmRpc3BsYXlTdGFydE5ldyhgU3R1cGlkIGNvbXB1dGVyIHdpbnMhYCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGxheWVyc1sxXS5ib2FyZC5zaGlwc1N1bmsoKS5sZW5ndGggPT09IDEpIHsgLy8gZG9udCBmb3JnZXQgdG8gcmV2ZXJ0IHRvIDEwIGluc3RlYWQgb2Ygb25lXG4gICAgICAgICAgICBwbGF5ZXJzWzBdLmlzV2lubmVyID0gdHJ1ZTsgXG4gICAgICAgICAgICB2aWV3LmRpc3BsYXlTdGFydE5ldyhgWW91IHdpbiFgKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RhcnROZXcgPSAoKSA9PiB7XG4gICAgICAgIGluaXRQb3B1cCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXJzZUNvb3JkcyA9IChjb29yZHMpID0+IHtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29vcmRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJzZWRDb29yZHMucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvb3Jkc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXBDb29yZHMgPSBgMSR7Y29vcmRzW2ldW2pdfWA7XG4gICAgICAgICAgICAgICAgcGFyc2VkQ29vcmRzW2ldLnB1c2goc2hpcENvb3Jkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFzc0Nvb3JkcyhwYXJzZWRDb29yZHMsIHBsYXllcnMpO1xuICAgICAgICByZXR1cm4gcGFyc2VkQ29vcmRzO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXNzQ29vcmRzID0gKGNvb3JkcywgcGxheWVycykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGxheWVyc1swXS5ib2FyZC5zaGlwc1tpXS5sb2NhdGlvbnMgPSBjb29yZHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RhcnRQbGFjZWQocGxheWVycyk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN0YXJ0UmFuZG9tID0gKHBsYXllcnMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocGxheWVycyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBsYXllcnNbMF0uYm9hcmQuc2hpcHMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXJzWzFdLmJvYXJkLnNoaXBzKTtcbiAgICAgICAgcGxheWVyc1swXS5ib2FyZC5yYW5kb21Mb2NhdGlvbnMoKTtcbiAgICAgICAgcGxheWVyc1sxXS5ib2FyZC5yYW5kb21Mb2NhdGlvbnMoKTtcbiAgICAgICAgdmlldy5yZW1vdmVQbGFjZVNoaXBQb3B1cCgpO1xuICAgICAgICB2aWV3LmRpc3BsYXlCb2FyZHMocGxheWVycyk7XG4gICAgICAgIHZpZXcuZGlzcGxheVNoaXBzKHBsYXllcnNbMF0uZ2V0RmxlZXQoKSk7IFxuICAgIH07XG5cbiAgICBjb25zdCBzdGFydFBsYWNlZCA9IChwbGF5ZXJzKSA9PiB7XG4gICAgICAgIHBsYXllcnNbMV0uYm9hcmQucmFuZG9tTG9jYXRpb25zKCk7XG4gICAgICAgIHZpZXcucmVtb3ZlUGxhY2VTaGlwUG9wdXAoKTtcbiAgICAgICAgdmlldy5kaXNwbGF5Qm9hcmRzKHBsYXllcnMpO1xuICAgICAgICB2aWV3LmRpc3BsYXlTaGlwcyhwbGF5ZXJzWzBdLmdldEZsZWV0KCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4geyBtb3ZlQ291bnRlciwgbWFrZU1vdmUsIGNoZWNrV2lubmVyLCBzdGFydE5ldywgc3RhcnRSYW5kb20sIHBhcnNlQ29vcmRzLCBwYXNzQ29vcmRzLCBzdGFydFBsYWNlZH07XG5cbn0pKCk7XG4iLCJpbXBvcnQgeyBjb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlclwiOyBcblxuZXhwb3J0IGNvbnN0IHZpZXcgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgZGlzcGxheUJvYXJkcyA9IChwbGF5ZXJzKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwJyArIGkgKyAnYicpO1xuICAgICAgICAgICAgd2hpbGUgKGJvYXJkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBib2FyZC5maXJzdENoaWxkLnJlbW92ZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCAxMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCAxMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaSArIGAke2p9YCArIGspO1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2VsbCcpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDIgJiYgcGxheWVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIubWFrZU1vdmUoY2VsbC5pZCwgcGxheWVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBkaXNwbGF5SGl0ID0gKGNlbGxJRCkgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2VsbElEKTtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlwJyk7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnbWlzcycpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpdCcpO1xuICAgIH07XG5cbiAgICBjb25zdCBkaXNwbGF5TWlzcyA9IChjZWxsSUQpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNlbGxJRCk7XG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnc2hpcCcpO1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21pc3MnKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGlzcGxheVNoaXBzID0gKHNoaXBzKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzaGlwc1tpXSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtzaGlwc1tpXX1gKTtcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGRpc3BsYXlTdXJMb2NhdGlvbnMgPSAoY2VsbHMpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNlbGxzW2ldKTtcbiAgICAgICAgICAgIGlmIChjZWxsICE9PSB1bmRlZmluZWQgJiYgY2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnc3VyJyk7XG4gICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdzY2FsZScpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ3NjYWxlJykgfSwgMTUwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGRpc3BsYXlTdGFydE5ldyA9IChwaHJhemUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnROZXdQb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzdGFydE5ld1BvcHVwLmNsYXNzTGlzdC5hZGQoJ3N0YXJ0TmV3Jyk7XG4gICAgICAgIHN0YXJ0TmV3UG9wdXAuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHA+ICR7cGhyYXplfSA8L3A+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGxheUFnYWluXCI+IFBsYXkgYWdhaW4gPC9idXR0b24+IGA7XG4gICAgICAgIGNvbnN0IGN1dHJhaW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY3V0cmFpbi5jbGFzc0xpc3QuYWRkKCdjdXJ0YWluJyk7XG4gICAgICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xuICAgICAgICBjb25zdCBwMmIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncDJiJyk7XG4gICAgICAgIHAyYi5hcHBlbmRDaGlsZChjdXRyYWluKTtcbiAgICAgICAgbWFpbi5hcHBlbmRDaGlsZChzdGFydE5ld1BvcHVwKTtcbiAgICAgICAgY29uc3QgcGxheUFnYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlBZ2FpbicpO1xuICAgICAgICBwbGF5QWdhaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBwMmIucmVtb3ZlQ2hpbGQoY3V0cmFpbik7XG4gICAgICAgICAgICBtYWluLnJlbW92ZUNoaWxkKHN0YXJ0TmV3UG9wdXApO1xuICAgICAgICAgICAgY29udHJvbGxlci5zdGFydE5ldygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gY29uc3QgYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9hcmQnKTtcblxuICAgIGNvbnN0IHBsYWNlU2hpcHNQb3B1cCA9IChwbGF5ZXJzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcnNbMF0uYm9hcmQuc2hpcHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXJzWzFdLmJvYXJkLnNoaXBzKTtcbiAgICAgICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9hcmQnKTtcbiAgICAgICAgZGlzcGxheUJvYXJkcyhwbGF5ZXJzKTtcbiAgICAgICAgX2NsZWFyU2hpcFBsYWNlcigpO1xuICAgICAgICAvLyBfcmVuZGVyQm9hcmQoYm9hcmQpO1xuICAgICAgICAvLyBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgIGNvbnN0IHBsYWNlU2hpcHNQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGFjZVNoaXBzJyk7XG4gICAgICAgIHBsYWNlU2hpcHNQb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBcblxuICAgICAgICBjb25zdCBvayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvaycpO1xuICAgICAgICBvay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgIFxuICAgICAgICAgICAgaWYgKHNoaXBQbGFjZXIuY29vcmRzLmxlbmd0aCA9PT0gMTApIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaGlwUGxhY2VyLmNvb3JkcylcbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMgPSBjb250cm9sbGVyLnBhcnNlQ29vcmRzKHNoaXBQbGFjZXIuY29vcmRzKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnBhc3NDb29yZHMoY29vcmRzLCBwbGF5ZXJzKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnN0YXJ0UGxhY2VkKHBsYXllcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpO1xuICAgICAgICByZXNldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIF9jbGVhclNoaXBQbGFjZXIoKTtcbiAgICAgICAgICAgIF9yZW5kZXJCb2FyZChib2FyZCk7XG4gICAgICAgICAgICBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJhbmRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5kb20nKTtcbiAgICAgICAgcmFuZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29udHJvbGxlci5zdGFydFJhbmRvbShwbGF5ZXJzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgcm90YXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdGF0ZScpO1xuICAgICAgICByb3RhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hpcFBsYWNlci52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIudmVydGljYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzaGlwUGxhY2VyLnZlcnRpY2FsKTtcbiAgICAgICAgICAgICAgICBfcmVuZGVyQm9hcmQoYm9hcmQpO1xuICAgICAgICAgICAgICAgIF9mbGVldFNldHVwZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hpcFBsYWNlci52ZXJ0aWNhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2hpcFBsYWNlci52ZXJ0aWNhbCk7XG4gICAgICAgICAgICAgICAgX3JlbmRlckJvYXJkKGJvYXJkKTtcbiAgICAgICAgICAgICAgICBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBfcmVuZGVyQm9hcmQgPSAoYm9hcmQpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdEJvYXJkID0gYm9hcmQ7XG5cbiAgICAgICAgd2hpbGUgKGluaXRCb2FyZC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBpbml0Qm9hcmQuZmlyc3RDaGlsZC5yZW1vdmUoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgMTE7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCAxMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdpZCcsIGAke2p9JHtrfWApO1xuICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250YWluZXInKTtcbiAgICAgICAgICAgICAgICBpbml0Qm9hcmQuYXBwZW5kQ2hpbGQoY2VsbCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBQbGFjZXIuY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGlwUGxhY2VyLmNvb3Jkc1tpXS5pbmRleE9mKGNlbGwuaWQpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IF9mbGVldFNldHVwZXIgPSAoKSA9PiB7XG4gICAgICAgY29uc29sZS5sb2coc2hpcFBsYWNlcik7XG4gICAgICAgY29uc29sZS5sb2coc2hpcFBsYWNlci52ZXJ0aWNhbCk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgMTE7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCAxMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2p9JHtrfWApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNoaXBQbGFjZXIuY2FycmllckNvdW50ZXIgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wbGFjZUNhcnJpZXIoY2VsbCwgaiwgayk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwUGxhY2VyLmNydWlzZXJDb3VudGVyPDIpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BsYWNlQ3J1aXNlcihjZWxsLCBqLCBrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZXIuZGVzdHJveWVyQ291bnRlcjwzKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wbGFjZURlc3Ryb3llcihjZWxsLCBqLCBrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZXIuZ3VuYm9hdENvdW50ZXIgPCA0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9wbGFjZUd1bmJvYXQoY2VsbCwgaiwgaylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBzaGlwUGxhY2VyID0ge1xuICAgICAgICBjb29yZHM6IFtdLFxuICAgICAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgICAgIGNhcnJpZXJDb3VudGVyOiAwLFxuICAgICAgICBjcnVpc2VyQ291bnRlcjogMCxcbiAgICAgICAgZGVzdHJveWVyQ291bnRlcjogMCxcbiAgICAgICAgZ3VuYm9hdENvdW50ZXI6IDAsXG4gICAgfVxuXG4gICAgY29uc3QgX2NsZWFyU2hpcFBsYWNlciA9ICgpID0+IHtcbiAgICAgICAgc2hpcFBsYWNlci5jb29yZHMgPSBbXTtcbiAgICAgICAgc2hpcFBsYWNlci52ZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgICBzaGlwUGxhY2VyLmNhcnJpZXJDb3VudGVyID0gMDtcbiAgICAgICAgc2hpcFBsYWNlci5jcnVpc2VyQ291bnRlciA9IDA7XG4gICAgICAgIHNoaXBQbGFjZXIuZGVzdHJveWVyQ291bnRlciA9IDA7XG4gICAgICAgIHNoaXBQbGFjZXIuZ3VuYm9hdENvdW50ZXIgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IF9wbGFjZUNhcnJpZXIgPSAoY2VsbCwgaiwgaykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhzaGlwUGxhY2VyKTtcbiAgICAgICAgY29uc29sZS5sb2coc2hpcFBsYWNlci52ZXJ0aWNhbCk7XG4gICAgICAgIGxldCBwYXJ0MSwgcGFydDIsIHBhcnQzLCBwYXJ0NDtcbiAgICAgICAgcGFydDEgPSBjZWxsO1xuICAgICAgXG4gICAgICAgIGlmIChzaGlwUGxhY2VyLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcFBsYWNlci52ZXJ0aWNhbCk7XG4gICAgICAgICAgICBpZiAoayA8IDgpIHtcbiAgICAgICAgICAgICAgICBwYXJ0MS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQyID0gcGFydDEubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0MyA9IHBhcnQyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgcGFydDQgPSBwYXJ0My5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0MywgcGFydDRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gcGFydDEubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IHBhcnQyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDQgPSBwYXJ0My5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0MywgcGFydDRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gcGFydDEubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IHBhcnQyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDQgPSBwYXJ0My5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0MywgcGFydDRdO1xuXG4gICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuY29vcmRzLnB1c2goW2Ake3BhcnQxLmlkfWAsIGAke3BhcnQyLmlkfWAsIGAke3BhcnQzLmlkfWAsIGAke3BhcnQ0LmlkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgc2hpcFBsYWNlci5jYXJyaWVyQ291bnRlciArPSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaGlwUGxhY2VyKVxuICAgICAgICAgICAgICAgICAgICBfcmVuZGVyQm9hcmQoYm9hcmQpO1xuICAgICAgICAgICAgICAgICAgICBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZXIudmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNoaXBQbGFjZXIudmVydGljYWwpO1xuICAgICAgICAgICAgaWYgKGogPCA4KSB7XG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAxfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgMn0ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDN9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJyaWVyID0gW3BhcnQxLCBwYXJ0MiwgcGFydDMsIHBhcnQ0XTtcblxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNsYXNzTGlzdC5hZGQoJ3NoaXBzcG90Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDF9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAyfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgM30ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0MywgcGFydDRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDF9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAyfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgM30ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0MywgcGFydDRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuY29vcmRzLnB1c2goW2Ake3BhcnQxLmlkfWAsIGAke3BhcnQyLmlkfWAsIGAke3BhcnQzLmlkfWAsIGAke3BhcnQ0LmlkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcFBsYWNlcik7XG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuY2FycmllckNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgX3JlbmRlckJvYXJkKGJvYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgX2ZsZWV0U2V0dXBlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBfcGxhY2VDcnVpc2VyID0gKGNlbGwsIGosIGspID0+IHtcbiAgICAgICBsZXQgcGFydDEsIHBhcnQyLCBwYXJ0MztcbiAgICAgICAgcGFydDEgPSBjZWxsO1xuICAgICAgICBpZiAoc2hpcFBsYWNlci52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChrIDwgOSkge1xuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGFydDIgPSBwYXJ0MS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQzID0gcGFydDIubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJyaWVyID0gW3BhcnQxLCBwYXJ0MiwgcGFydDNdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gcGFydDEubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IHBhcnQyLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FycmllciA9IFtwYXJ0MSwgcGFydDIsIHBhcnQzXTtcblxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXBzcG90Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MiA9IHBhcnQxLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDMgPSBwYXJ0Mi5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyLCBwYXJ0M107XG5cbiAgICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuY29vcmRzLnB1c2goW2Ake3BhcnQxLmlkfWAsIGAke3BhcnQyLmlkfWAsIGAke3BhcnQzLmlkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcFBsYWNlci5jb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICBzaGlwUGxhY2VyLmNydWlzZXJDb3VudGVyKz0xO1xuICAgICAgICAgICAgICAgICAgICBfcmVuZGVyQm9hcmQoYm9hcmQpO1xuICAgICAgICAgICAgICAgICAgICBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZXIudmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChqIDwgOSkge1xuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgMX0ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDJ9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJyaWVyID0gW3BhcnQxLCBwYXJ0MiwgcGFydDNdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgMX0ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDJ9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJyaWVyID0gW3BhcnQxLCBwYXJ0MiwgcGFydDNdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aiArIDF9JHtrfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAyfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FycmllciA9IFtwYXJ0MSwgcGFydDIsIHBhcnQzXTtcblxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBzaGlwUGxhY2VyLmNvb3Jkcy5wdXNoKFtgJHtwYXJ0MS5pZH1gLCBgJHtwYXJ0Mi5pZH1gLCBgJHtwYXJ0My5pZH1gXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNoaXBQbGFjZXIuY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgc2hpcFBsYWNlci5jcnVpc2VyQ291bnRlcis9MTtcbiAgICAgICAgICAgICAgICAgICAgX3JlbmRlckJvYXJkKGJvYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgX2ZsZWV0U2V0dXBlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICBjb25zdCBfcGxhY2VEZXN0cm95ZXIgPSAoY2VsbCwgaiwgaykgPT4ge1xuICAgICAgIGxldCBwYXJ0MSwgcGFydDI7XG4gICAgICAgIHBhcnQxID0gY2VsbDtcbiAgICAgICAgaWYgKHNoaXBQbGFjZXIudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoayA8IDEwKSB7XG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0MiA9IHBhcnQxLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FycmllciA9IFtwYXJ0MSwgcGFydDJdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQyID0gcGFydDEubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJyaWVyID0gW3BhcnQxLCBwYXJ0Ml07XG5cbiAgICAgICAgICAgICAgICAgICAgY2Fycmllci5mb3JFYWNoKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlwc3BvdCcpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBwYXJ0MS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDIgPSBwYXJ0MS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyXTtcblxuICAgICAgICAgICAgICAgICAgICAgY2Fycmllci5mb3JFYWNoKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5jbGFzc0xpc3QuYWRkKCdzaGlwcycpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2hpcFBsYWNlci5jb29yZHMucHVzaChbYCR7cGFydDEuaWR9YCwgYCR7cGFydDIuaWR9YF0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaGlwUGxhY2VyLmNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuZGVzdHJveWVyQ291bnRlcis9MTtcbiAgICAgICAgICAgICAgICAgICAgX3JlbmRlckJvYXJkKGJvYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgX2ZsZWV0U2V0dXBlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGlwUGxhY2VyLnZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoaiA8IDEwKSB7XG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAxfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FycmllciA9IFtwYXJ0MSwgcGFydDJdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtqICsgMX0ke2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXIgPSBbcGFydDEsIHBhcnQyXTtcblxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXBzcG90Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ogKyAxfSR7a31gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FycmllciA9IFtwYXJ0MSwgcGFydDJdO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhcnJpZXIuZm9yRWFjaChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIHNoaXBQbGFjZXIuY29vcmRzLnB1c2goW2Ake3BhcnQxLmlkfWAsIGAke3BhcnQyLmlkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2hpcFBsYWNlci5jb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICBzaGlwUGxhY2VyLmRlc3Ryb3llckNvdW50ZXIrPTE7XG4gICAgICAgICAgICAgICAgICAgIF9yZW5kZXJCb2FyZChib2FyZCk7XG4gICAgICAgICAgICAgICAgICAgIF9mbGVldFNldHVwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICBjb25zdCBfcGxhY2VHdW5ib2F0ID0gKGNlbGwpID0+IHtcbiAgICAgICAgY29uc3QgIHBhcnQxID0gY2VsbDtcbiAgICBcbiAgICAgICAgcGFydDEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgcGFydDEuY2xhc3NMaXN0LmFkZCgnc2hpcHNwb3QnKTtcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBwYXJ0MS5jbGFzc0xpc3QucmVtb3ZlKCdzaGlwc3BvdCcpO1xuICAgICAgICB9KVxuXG4gICAgICAgIHBhcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgcGFydDEuY2xhc3NMaXN0LmFkZCgnc2hpcHMnKTtcbiAgICAgICAgICAgIHNoaXBQbGFjZXIuY29vcmRzLnB1c2goW2Ake3BhcnQxLmlkfWBdKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNoaXBQbGFjZXIuY29vcmRzKTtcbiAgICAgICAgICAgIHNoaXBQbGFjZXIuZ3VuYm9hdENvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIF9yZW5kZXJCb2FyZChib2FyZCk7XG4gICAgICAgICAgICBfZmxlZXRTZXR1cGVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlUGxhY2VTaGlwUG9wdXAgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBsYWNlU2hpcHNQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGFjZVNoaXBzJyk7XG4gICAgICAgIHBsYWNlU2hpcHNQb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH07XG5cblxuICAgIHJldHVybiB7cmVtb3ZlUGxhY2VTaGlwUG9wdXAsIGRpc3BsYXlCb2FyZHMsIGRpc3BsYXlIaXQsIGRpc3BsYXlTaGlwcywgZGlzcGxheU1pc3MsIGRpc3BsYXlTdXJMb2NhdGlvbnMsIGRpc3BsYXlTdGFydE5ldywgcGxhY2VTaGlwc1BvcHVwfVxufSkoKVxuXG5cblxuXG4gLy8gY29uc3Qgc2hpcExvY2F0b3IgPSAoY2VsbCkgPT4ge1xuICAgIC8vICAgICBsZXQgY29vcmRzO1xuICAgIC8vICAgICBpZiAoc2hpcFBsYWNlci5jYXJyaWVyQ291bnRlciA8IDEpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgX3BsYWNlQ2FycmllcihjZWxsKTtcbiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZXIuY3J1aXNlckNvdW50ZXI8Mikge1xuICAgIC8vICAgICAgICAgICAgICAgICBfcGxhY2VDcnVpc2VyKGNlbGwpO1xuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFBsYWNlci5kZXN0cm95ZXJDb3VudGVyPDMpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgX3BsYWNlRGVzdHJveWVyKGNlbGwpO1xuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFBsYWNlci5ndW5ib2F0Q291bnRlciA8IDQpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgX3BsYWNlR3VuYm9hdChjZWxsKVxuICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGNvb3JkcyA9IGNvbnRyb2xsZXIucGFyc2VDb29yZHMoc2hpcFBsYWNlci5jb29yZHMpO1xuICAgIC8vICAgICAgICAgICAgICAgICBjbGVhclNoaXBQbGFjZXIoKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2hpcFBsYWNlcik7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAvLyAgICAgIGlmIChjb29yZHMhPXVuZGVmaW5lZCAmJiBjb29yZHMubGVuZ3RoID49IDEwKSB7XG4gICAgLy8gICAgICAgICBjb250cm9sbGVyLnBhc3NDb29yZHMoY29vcmRzKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgICAgLy8gbGV0IGo7XG4gICAgICAgIC8vIGxldCBrO1xuICAgICAgICAvLyBpZiAoY2VsbC5pZC5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgLy8gICAgIGogPSBgJHtjZWxsLmlkfWAuY2hhckF0KDApICsgYCR7Y2VsbC5pZH1gLmNoYXJBdCgxKTtcbiAgICAgICAgLy8gfSBlbHNlIGlmIChjZWxsLmlkLmxlbmd0aCA9PT0zICYmIGNlbGwuaWQuY2hhckF0KDEpPT09MCkge1xuICAgICAgICAvLyAgICAgaiA9YCR7Y2VsbC5pZH1gLmNoYXJBdCgwKVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gaWYgKGNlbGwuaWQubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIC8vICAgayA9IGAke2NlbGwuaWR9YC5jaGFyQXQoMSkgKyBgJHtjZWxsLmlkfWAuY2hhckF0KDIpO1xuICAgICAgICAvLyB9IGVsc2UgaWYgKGNlbGwuaWQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIC8vICAgayA9IGAke2NlbGwuaWR9YC5jaGFyQXQoMikgKyBgJHtjZWxsLmlkfWAuY2hhckF0KDMpO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgIGsgPSBgJHtjZWxsLmlkfWAuY2hhckF0KDEpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coailcbiAgICAgICAgLy8gY29uc29sZS5sb2coaylcblxuXG4gICAgICAgICIsImltcG9ydCB7IHZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XG5cbmV4cG9ydCBjb25zdCBtb2RlbCA9ICgoKSA9PiB7XG5cbiAgICBjb25zdCBzaGlwRmFjdG9yeSA9IChsZW5ndGgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hpcExlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAyKTtcbiAgICAgICAgbGV0IHN0YXJ0TG9jYXRpb247IFxuICAgICAgICBjb25zdCBsb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgY29uc3Qgc3VyTG9jYXRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGZvcmJMb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgY29uc3QgaGl0cyA9IFtdO1xuICAgICAgICBsZXQgaXNTdW5rID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgc2V0Q29vcmQgPSAoY29vcmRzKSA9PiB7XG4gICAgICAgICAgICBsb2NhdGlvbnMgPSBjb29yZHM7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0dGluZ0hpdCA9IChsb2NhdGlvbikgPT4ge1xuICAgICAgICAgICAgaGl0c1tsb2NhdGlvbl0gPSAnaGl0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdldHRpbmdTdW5rID0gKHNoaXApID0+IHtcbiAgICAgICAgICAgIGlmIChzaGlwLmhpdHMuaW5kZXhPZignJykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc2hpcC5pc1N1bmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGxheVN1ckxvY2F0aW9ucyhzaGlwLnN1ckxvY2F0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNoaXAuaXNTdW5rO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7IHNldENvb3JkICxsb2NhdGlvbnMsIGhpdHMsIGlzU3VuaywgZ2V0dGluZ1N1bmssIGRpcmVjdGlvbiwgZ2V0dGluZ0hpdCwgc2hpcExlbmd0aCwgc3VyTG9jYXRpb25zLCBmb3JiTG9jYXRpb25zLCBzdGFydExvY2F0aW9ufTtcbiAgICB9O1xuXG4gICAgY29uc3QgYm9hcmRGYWN0b3J5ID0gKGlkKSA9PiB7XG5cbiAgICAgICAgY29uc3QgYm9hcmRJZCA9IGlkO1xuXG4gICAgICAgIGNvbnN0IGJvYXJkU2l6ZSA9IDEwO1xuXG4gICAgICAgIGNvbnN0IHNoaXBzID0gW3NoaXBGYWN0b3J5KDQpLFxuICAgICAgICBzaGlwRmFjdG9yeSgzKSxcbiAgICAgICAgc2hpcEZhY3RvcnkoMyksXG4gICAgICAgIHNoaXBGYWN0b3J5KDIpLFxuICAgICAgICBzaGlwRmFjdG9yeSgyKSxcbiAgICAgICAgc2hpcEZhY3RvcnkoMiksXG4gICAgICAgIHNoaXBGYWN0b3J5KDEpLFxuICAgICAgICBzaGlwRmFjdG9yeSgxKSxcbiAgICAgICAgc2hpcEZhY3RvcnkoMSksXG4gICAgICAgIHNoaXBGYWN0b3J5KDEpXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNoaXBzU3VuayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXBzU3VuayA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzaGlwc1tpXS5pc1N1bmsgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNTdW5rLnB1c2goc2hpcHNbaV0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNoaXBzU3VuaztcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgaWxsZWdhbE1vdmVzID0gW107XG5cbiAgICAgICAgY29uc3QgcmFuZG9tTG9jYXRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNoaXBMb2NhdGlvbnM7XG4gICAgICAgICAgICBsZXQgc3VyTG9jYXRpb25zO1xuICAgICAgICAgICAgbGV0IGZvcmJMb2NhdGlvbnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoaXBzW2ldLnN0YXJ0TG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwU3BvdCA9IGdlbmVyYXRlTG9jYXRpb25zKHNoaXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBMb2NhdGlvbnMgPSBzaGlwU3BvdFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucyA9IHNoaXBTcG90WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yYkxvY2F0aW9ucyA9IHNoaXBMb2NhdGlvbnMuY29uY2F0KHN1ckxvY2F0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGNoZWNrQ29sbGlzaW9uKHNoaXBMb2NhdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNbaV0ubG9jYXRpb25zID0gc2hpcExvY2F0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNbaV0uc3VyTG9jYXRpb25zID0gc3VyTG9jYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICBzaGlwc1tpXS5mb3JiTG9jYXRpb25zID0gZm9yYkxvY2F0aW9ucztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21Mb2NhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaGlwc1tpXS5zaGlwTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNbaV0uaGl0cy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlTG9jYXRpb25zID0gKHNoaXApID0+IHtcblxuICAgICAgICAgICAgbGV0IGNvbDtcbiAgICAgICAgICAgIGxldCByb3c7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc3VyTG9jYXRpb25zID0gW107XG4gICAgICAgICAgICBpZiAoc2hpcC5kaXJlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIGJvYXJkU2l6ZSk7XG4gICAgICAgICAgICAgICAgY29sID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAoYm9hcmRTaXplIC0gKHNoaXAuc2hpcExlbmd0aCArIDEpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdyA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogKGJvYXJkU2l6ZSAtIChzaGlwLnNoaXBMZW5ndGggKyAxKSkpO1xuICAgICAgICAgICAgICAgIGNvbCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogYm9hcmRTaXplKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hpcC5kaXJlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TG9jYXRpb25zLnB1c2goYm9hcmRJZCArIGAke3Jvd31gICsgKGNvbCArIGkpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0xvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHsocm93ICsgaSl9YCArIGAke2NvbH1gKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoc2hpcC5kaXJlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgKyAxfWAgKyAoY29sICsgaSkpO1xuICAgICAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93IC0gMX1gICsgKGNvbCArIGkpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgLSAxfWAgKyAoY29sIC0gMSkpO1xuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3d9YCArIChjb2wgLSAxKSk7XG4gICAgICAgICAgICAgICAgc3VyTG9jYXRpb25zLnB1c2goYm9hcmRJZCArIGAke3JvdyArIDF9YCArIChjb2wgLSAxKSk7XG5cbiAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93IC0gMX1gICsgKGNvbCArIHNoaXAuc2hpcExlbmd0aCkpO1xuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3d9YCArIChjb2wgKyBzaGlwLnNoaXBMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93ICsgMX1gICsgKGNvbCArIHNoaXAuc2hpcExlbmd0aCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgKyBpfWAgKyAoY29sICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93ICsgaX1gICsgKGNvbCAtIDEpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgLSAxfWAgKyAoY29sIC0gMSkpO1xuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgLSAxfWAgKyAoY29sKSk7XG4gICAgICAgICAgICAgICAgc3VyTG9jYXRpb25zLnB1c2goYm9hcmRJZCArIGAke3JvdyAtIDF9YCArIChjb2wgKyAxKSk7XG5cbiAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93ICsgc2hpcC5zaGlwTGVuZ3RofWAgKyAoY29sIC0gMSkpO1xuICAgICAgICAgICAgICAgIHN1ckxvY2F0aW9ucy5wdXNoKGJvYXJkSWQgKyBgJHtyb3cgKyBzaGlwLnNoaXBMZW5ndGh9YCArIChjb2wpKTtcbiAgICAgICAgICAgICAgICBzdXJMb2NhdGlvbnMucHVzaChib2FyZElkICsgYCR7cm93ICsgc2hpcC5zaGlwTGVuZ3RofWAgKyAoY29sICsgMSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBbbmV3TG9jYXRpb25zLCBzdXJMb2NhdGlvbnNdO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2hlY2tDb2xsaXNpb24gPSAobG9jYXRpb25zKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXBzW2ldLmZvcmJMb2NhdGlvbnMuaW5kZXhPZihsb2NhdGlvbnNbal0pID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYG5vIGNvbGxpc2lvbnMgb24gc2hpcCAke3NoaXBzW2ldfWApXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGN1c3RvbUxvY2F0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY29kZSBnb2VzIGhlcmUgaWYgbmVlZGVkXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjZWxsLCBwbGF5ZXIpID0+IHtcbiAgICAgICAgICAgIHBsYXllci5ib2FyZC5pbGxlZ2FsTW92ZXMucHVzaChjZWxsKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllci5ib2FyZC5pbGxlZ2FsTW92ZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzaGlwc1tpXS5sb2NhdGlvbnMuaW5kZXhPZihjZWxsKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGxheUhpdChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHNbaV0uZ2V0dGluZ0hpdChzaGlwc1tpXS5sb2NhdGlvbnMuaW5kZXhPZihjZWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIHNoaXBzW2ldLmdldHRpbmdTdW5rKHNoaXBzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXBzW2ldLmdldHRpbmdTdW5rKHNoaXBzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmJvYXJkLmlsbGVnYWxNb3ZlcyA9IHBsYXllci5ib2FyZC5pbGxlZ2FsTW92ZXMuY29uY2F0KHNoaXBzW2ldLnN1ckxvY2F0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwc1tpXS5sb2NhdGlvbnMuaW5kZXhPZihjZWxsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwbGF5TWlzcyhjZWxsKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTsgXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybntzaGlwcywgaWxsZWdhbE1vdmVzLCByZWNlaXZlQXR0YWNrLCBzaGlwc1N1bmssIHJhbmRvbUxvY2F0aW9uc31cbiAgICB9O1xuXG4gICAgY29uc3QgcGxheWVyID0gKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHBsYXllcklkID0gaWQ7XG4gICAgICAgIGNvbnN0IGJvYXJkID0gYm9hcmRGYWN0b3J5KHBsYXllcklkKTtcbiAgICAgICAgY29uc3QgZ2V0RmxlZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbGVldENvb3JkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5zaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYm9hcmQuc2hpcHNbaV0ubG9jYXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsZWV0Q29vcmRzLnB1c2goYm9hcmQuc2hpcHNbaV0ubG9jYXRpb25zW2pdKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZsZWV0Q29vcmRzO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpc1dpbm5lciA9IGZhbHNlO1xuICAgICAgICByZXR1cm57cGxheWVySWQsIGJvYXJkLCBnZXRGbGVldCwgaXNXaW5uZXJ9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRQbGF5ZXJzKCkge1xuICAgICAgICBsZXQgcGxheWVyMSA9IHBsYXllcigxKTtcbiAgICAgICAgbGV0IHBsYXllcjIgPSBwbGF5ZXIoMik7XG4gICAgICAgIHJldHVybiBbcGxheWVyMSwgcGxheWVyMl07XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4geyBpbml0UGxheWVycyB9O1xuXG59KSgpIiwiaW1wb3J0ICcuLi9zcmMvc3R5bGUuY3NzJztcbmltcG9ydCB7IHZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XG5pbXBvcnQgeyBtb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0UG9wdXAoKSB7XG4gICAgY29uc3QgcGxheWVycyA9IG1vZGVsLmluaXRQbGF5ZXJzKCk7XG4gICAgY29uc29sZS5sb2cocGxheWVyc1swXS5ib2FyZC5zaGlwcyk7XG4gICAgY29uc29sZS5sb2cocGxheWVyc1sxXS5ib2FyZC5zaGlwcyk7XG4gICAgdmlldy5wbGFjZVNoaXBzUG9wdXAocGxheWVycyk7XG4gIFxufTtcblxuXG5pbml0UG9wdXAoKTtcblxuIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIiwiVVJMIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18iLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidGVzdCIsInNsaWNlIiwiaGFzaCIsIm5lZWRRdW90ZXMiLCJyZXBsYWNlIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm4iLCJnZXR0ZXIiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicCIsImIiLCJiYXNlVVJJIiwic2VsZiIsImhyZWYiLCJfcmFuZG9tTW92ZUdlbiIsImNoZWNrV2lubmVyIiwiZGlzcGxheUJvYXJkcyIsIl9yZW5kZXJCb2FyZCIsIl9mbGVldFNldHVwZXIiLCJzaGlwUGxhY2VyIiwiX2NsZWFyU2hpcFBsYWNlciIsIl9wbGFjZUNhcnJpZXIiLCJfcGxhY2VDcnVpc2VyIiwiX3BsYWNlRGVzdHJveWVyIiwiX3BsYWNlR3VuYm9hdCIsInNoaXBGYWN0b3J5IiwicGxheWVyIiwiY29udHJvbGxlciIsInJhbmRvbU1vdmUiLCJNYXRoIiwiY2VpbCIsInJhbmRvbSIsImJvYXJkIiwiaWxsZWdhbE1vdmVzIiwiaW5kZXhPZiIsIm1vdmVDb3VudGVyIiwibWFrZU1vdmUiLCJjZWxsIiwicGxheWVycyIsInJlY2VpdmVBdHRhY2siLCJzaGlwc1N1bmsiLCJpc1dpbm5lciIsInZpZXciLCJkaXNwbGF5U3RhcnROZXciLCJzdGFydE5ldyIsImluaXRQb3B1cCIsInN0YXJ0UmFuZG9tIiwiY29uc29sZSIsImxvZyIsInJhbmRvbUxvY2F0aW9ucyIsInJlbW92ZVBsYWNlU2hpcFBvcHVwIiwiZGlzcGxheVNoaXBzIiwiZ2V0RmxlZXQiLCJwYXJzZUNvb3JkcyIsImNvb3JkcyIsInBhcnNlZENvb3JkcyIsImoiLCJzaGlwQ29vcmRzIiwicGFzc0Nvb3JkcyIsInNoaXBzIiwibG9jYXRpb25zIiwic3RhcnRQbGFjZWQiLCJpbml0Qm9hcmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ2ZXJ0aWNhbCIsImdldEVsZW1lbnRCeUlkIiwiY2FycmllckNvdW50ZXIiLCJjcnVpc2VyQ291bnRlciIsImRlc3Ryb3llckNvdW50ZXIiLCJndW5ib2F0Q291bnRlciIsInBhcnQxIiwicGFydDIiLCJwYXJ0MyIsInBhcnQ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5leHRFbGVtZW50U2libGluZyIsImZvckVhY2giLCJwYXJ0IiwiZGlzcGxheSIsImRpc3BsYXlIaXQiLCJjZWxsSUQiLCJkaXNwbGF5TWlzcyIsImRpc3BsYXlTdXJMb2NhdGlvbnMiLCJjZWxscyIsInNldFRpbWVvdXQiLCJwaHJhemUiLCJzdGFydE5ld1BvcHVwIiwiaW5uZXJIVE1MIiwiY3V0cmFpbiIsIm1haW4iLCJwMmIiLCJwbGFjZVNoaXBzUG9wdXAiLCJtb2RlbCIsInNoaXBMZW5ndGgiLCJkaXJlY3Rpb24iLCJoaXRzIiwic2V0Q29vcmQiLCJpc1N1bmsiLCJnZXR0aW5nU3VuayIsInNoaXAiLCJzdXJMb2NhdGlvbnMiLCJnZXR0aW5nSGl0IiwiZm9yYkxvY2F0aW9ucyIsInN0YXJ0TG9jYXRpb24iLCJwbGF5ZXJJZCIsImJvYXJkSWQiLCJnZW5lcmF0ZUxvY2F0aW9ucyIsImNvbCIsInJvdyIsIm5ld0xvY2F0aW9ucyIsImNoZWNrQ29sbGlzaW9uIiwic2hpcExvY2F0aW9ucyIsInNoaXBTcG90IiwiYm9hcmRGYWN0b3J5IiwiZmxlZXRDb29yZHMiLCJpbml0UGxheWVycyJdLCJzb3VyY2VSb290IjoiIn0=